<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sysevent_script_action">
    <sysevent_script_action action="INSERT_OR_UPDATE">
        <active>false</active>
        <condition_script/>
        <description/>
        <event_name>x_tekso_twxapp01.inboundresponse</event_name>
        <name>OBSOLETE - InboundResponse</name>
        <order>100</order>
        <script><![CDATA[/*
Event triggered by SJ Process Responses From uControl

var jsonObj = {};
jsonObj.response = response;
jsonObj.dataSysID = dataSysID;
jsonObj.dtReceived = dtReceived;
jsonObj.job2sysID = job2sysID;

var evnt = 'x_tekso_twxapp01.inboundresponse';
gs.eventQueue(evnt, gr1, gs.getUserID(),JSON.stringify(jsonObj));
*/

InboundResponse();

function InboundResponse() {
	//Note: parm not param
	//gs DOT info('event.parm1: ' + event.parm1); // gs.getUserID()
	//gs DOT info('event.parm2: ' + event.parm2); 

	var script = 'SA InboundResponse';
	//This message will be output if property x_tekso_twxapp01.logging.level is 2 or higher	
	new x_tekso_twxapp01.DebugLogging().message(script,2,'SA InboundResponse - Started');

	var jsonObj = JSON.parse(event.parm2);	
	var response = jsonObj.response;
	var dataSysID = jsonObj.dataSysID;
	var dtReceived = jsonObj.dtReceived;
		
	// job2sysid = sys_id for x_tekso_twxapp01_scheduled_job2_log
	// Log file for the scheduled job Process Responses From uControl	
    var job2sysID = jsonObj.job2sysID;
	
	//This message will be output if property x_tekso_twxapp01.logging.level is 3 or higher	
	var dbg = 'resonse: ' + response;
	new x_tekso_twxapp01.DebugLogging().message(script,3,dbg);
	
	dbg = 'dataSysID: ' + dataSysID;
	new x_tekso_twxapp01.DebugLogging().message(script,3,dbg);	
	
	dbg = 'dtReceived: ' + dtReceived;
	new x_tekso_twxapp01.DebugLogging().message(script,3,dbg);	

	dbg = 'job2sysID: ' + job2sysID;
	new x_tekso_twxapp01.DebugLogging().message(script,3,dbg);
	
	var si = new x_tekso_twxapp01.HandleRESTResponse();
	si.handleRESTResponse(response,dataSysID,dtReceived,job2sysID,true);	
	
	//This message will be output if property x_tekso_twxapp01.logging.level is 2 or higher	
	new x_tekso_twxapp01.DebugLogging().message(script,2,'SA InboundResponse - Finished');	
}]]></script>
        <synchronous>false</synchronous>
        <sys_class_name>sysevent_script_action</sys_class_name>
        <sys_created_by>robin</sys_created_by>
        <sys_created_on>2020-07-15 09:31:35</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>4bf9f2c5db4a98104f29252b13961971</sys_id>
        <sys_mod_count>7</sys_mod_count>
        <sys_name>OBSOLETE - InboundResponse</sys_name>
        <sys_overrides/>
        <sys_package display_value="Application 1" source="x_tekso_twxapp01">993be4b2db62085035a38a72399619a7</sys_package>
        <sys_policy/>
        <sys_scope display_value="Application 1">993be4b2db62085035a38a72399619a7</sys_scope>
        <sys_update_name>sysevent_script_action_4bf9f2c5db4a98104f29252b13961971</sys_update_name>
        <sys_updated_by>robin</sys_updated_by>
        <sys_updated_on>2020-07-21 20:34:25</sys_updated_on>
    </sysevent_script_action>
</record_update>
